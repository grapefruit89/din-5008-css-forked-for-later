<!-- din-5008.css - Copyright (C) 2022 Hannes Diercks, Licensed under MIT https://github.com/Xiphe/din-5008-css -->
<!DOCTYPE html>
<html lang="de">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>Example Document in DIN 5008</title>

		
		<style>
@page {
  size: A4;
  margin: 0;
}

html {
  font-family: Aptos, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  font-size: 10pt;
  line-height: 1.5rem;
  color: #000;
  box-sizing: border-box;  
}

body {
  margin: 0;
}

din-5008 {
  box-sizing: border-box;
  display: block;
  height: 297mm;
  margin: 0;
  page-break-after: always;
  position: relative;
  width: 210mm;
}

.schriftfeld {
  border-radius: 0.25rem;
  border: 1px dashed rgba(0, 0, 0, 0.1);
  box-sizing: border-box;
  cursor: text;
  display: block;
  margin-bottom: 3pt;
  max-width: 165mm;
  min-height: 12pt;
  min-width: 20mm;
  outline: none;
  height: 17pt;
  width: fit-content;
  overflow: hidden;  
}

.wrapper {
  position: absolute;
  left: 20mm;
  display: block;
 }

.oneline {
  max-height: 1.5rem; /* Begrenzt die Höhe auf eine Zeile */
  line-height: 1.3rem; /* Stellt sicher, dass der Text vertikal zentriert ist */
  white-space: nowrap; /* Verhindert Zeilenumbrüche innerhalb des Textes */
  overflow: hidden; /* Schneidet überflüssigen Inhalt ab */
 }




.schriftfeld:hover,
.schriftfeld:focus {
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 0.25rem;
}

.schriftfeld:focus {
  box-shadow: 0 2px 5px #007bff;
  border: 1px solid transparent;
}

@media screen {
  body {
    background: #e0e0e0;
    margin: 10mm;
  }
  din-5008 {
    background: white;
    height: 297mm;
    box-shadow: 0 5px 50px rgba(0, 0, 0, 0.3);
    margin: 50px auto;
  }
}

@media print {
  din-5008 {
    width: 210mm;
  }
}
		</style>
<!-- Favicon # wird zu %23 -->
		<link rel="shortcut icon" href="data:image/svg+xml,
			<svg
				xmlns='http://www.w3.org/2000/svg'  viewBox='0 0 36 36'>
				<path fill='%23CCD6DD' d='M36 27a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V9a4 4 0 0 1 4-4h28a4 4 0 0 1 4 4v18z'/>
				<path fill='%2399aab5' d='M4 5a4 4 0 0 0-4 4v1.03l9.79 9.77-9.15 9.15-.06.09a4 4 0 0 0 1.38 1.38l.09-.06 9.15-9.15 3.32 3.3a4.88 4.88 0 0 0 6.88 0l3.36-3.33 9.18 9.18.09.06a3.98 3.98 0 0 0 1.38-1.38l-.06-.09-9.18-9.18 9.8-9.76V9a4 4 0 0 0-4-4h-28z'/>
				<path fill='%23E1E8ED' d='M32 5H4A3.99 3.99 0 0 0 .4 7.28l14.8 14.8a4 4 0 0 0 5.66 0l14.8-14.8A3.99 3.99 0 0 0 32.06 5z'/>
			</svg>">
		</head>
		

		<body>
<din-5008>
				<svg style="position: absolute; left: 2mm; top: 87mm;" width="10mm" height="105.2mm" viewBox="0 0 10 105.2">
					<line x1="0" y1="0.1" x2="10" y2="0.1" stroke="rgba(0, 0, 0, 0.3)" stroke-width="0.2" />
					<line x1="0" y1="105.1" x2="10" y2="105.1" stroke="rgba(0, 0, 0, 0.3)" stroke-width="0.2" />
				</svg>
				
				<!-- <briefkopf></briefkopf> -->
				
<!-- EMPFÄNGER -->			
				<wrapper class="wrapper" style="line-height: 1.25; top: 27mm;  display: flex; flex-direction: column;">
					<rucksendeangabe class="schriftfeld oneline" style="width: 80mm; font-size: 7pt; height: 1.3rem;">Mustermann GmbH | Beispiel-Straße 12 | 12345 Beispielhausen</rucksendeangabe>
					<vermerkzone class="schriftfeld oneline"  style="width: 80mm; min-height: 14pt; max-height: 2.5rem;">Nicht nachsenden!</vermerkzone>
					<anschriftzone class="schriftfeld" style="width: 80mm; height: 7.5rem;">
							  Firma
						<br />Ansprechpartner
						<br />Straße und Hausnummer
						<br />Postleitzahl und Ort
						<br />Straße und Hausnummer
						<br />Postleitzahl und Ort
					</anschriftzone>
				</wrapper>
				
				
<!-- ABSENDER -->
				<wrapper class="wrapper" style=" left: 140mm; right: 20mm; top: 27mm;  display: flex; flex-direction: column;">
					<absender class="schriftfeld oneline" style="max-width: 50mm;">Moritz Baumeister</absender>
					<adresse class="schriftfeld"  style="height: fit-content; max-width: 50mm;  ">Kettelerstraße 2 <br>53844 Troisdorf</adresse>
					<telefon class="schriftfeld oneline"  style="max-width: 50mm;" ">01601221445</telefon>
				</wrapper>
				
<!-- DATUM -->			
				<datum class="schriftfeld oneline" style="position: absolute; top: 75mm; right: 20mm; text-align: right; max-width: 75mm;"></datum>
				
			
			
<!-- HAUPTTEXT -->
				<wrapper class="wrapper" style="display: block; top: 90mm; right: 20mm;">
				<betreff class="schriftfeld oneline" style="font-weight: bold; margin-bottom: 2rem;">Example Document using din-5008-css</betreff>
				<anrede class="schriftfeld oneline" style="margin-bottom: 1.5rem;">Sehr geehrte Damen und Herren,</anrede>
					<textfeld class="schriftfeld"  style="width:100%; max-height: 150mm; height:auto;  margin-bottom: 1rem;">
						<em>Kursiv STRG+I </em>
						<br/>
						<b>Fett STRG+B </b>
						<br/>
<br/><a href="https://grapefruit89.github.io/din-5008-css-forked-for-later/">DIN 5008 Beispielseite</a>
						<u>Unterstrichen STRG+U</u>
					</textfeld>
					<grussformel class="schriftfeld oneline" style="display:inline-block; margin-bottom: 3rem;">Mit freundlichen Grüßen</grussformel>
					
					<absender class="schriftfeld oneline"	style="margin-bottom: 1rem;">Moritz Baumeister</absender>
					<anlagen class="schriftfeld "	style="height: fit-content;">Anlagen</anlagen>
					</wrapper>
<!-- FUßZEILE-->
			<wrapper class="wrapper"  style=" bottom: 6.5mm; width: 165mm;">
				<seitenangabe class="schriftfeld oneline" style="max-width: 30mm; text-align: right; margin-bottom: 4.23mm; float: right; ">Seite 1 von 4</seitenangabe>
				<br/><fusszeile class="schriftfeld oneline" style="clear: both;">Fußzeile</fusszeile>
			</wrapper> 
</din-5008>
				
<script>	//Hauptskript
document.addEventListener('DOMContentLoaded', () => {
    // 1) .schriftfeld → editierbar
    document.querySelectorAll('.schriftfeld').forEach(el => {
        el.contentEditable = 'true';
    });

    // 2) <datum> → aktuelles deutsches Datum
    const datumEl = document.querySelector('datum');
    if (datumEl) {
        datumEl.textContent = new Date().toLocaleDateString('de-DE', {
            day: '2-digit',
            month: 'long',
            year: 'numeric'
        });
    }

    // 3) dynamischer Titel: YYYY-MM-DD_Betreff
    const betreffEl = document.querySelector('betreff');
    if (betreffEl) {
        const setTitle = () => {
            const isoDate = new Date().toISOString().split('T')[0];
            const text = betreffEl.textContent.trim() || 'Unbenannt';
            document.title = `${isoDate}_${text}`;
        };
        setTitle();
        betreffEl.addEventListener('input', setTitle);
    }
});
</script>
  
  
  
<script> //Paste‑Sanitizer mit Selection/Range‑API (future‑proof)
"use strict";
document.addEventListener("DOMContentLoaded", () => {
  // Gemeinsamer Handler für paste & drop
  const handlePlainTextInsert = e => {
    e.preventDefault();
    // Paste: e.clipboardData, Drop: e.dataTransfer
    const text =
      e.clipboardData?.getData("text/plain")
      ?? e.dataTransfer?.getData("text/plain")
      ?? "";
    insertTextAtCursor(text);
  };

  // Events zusammenfassen
  ["paste", "drop"].forEach(evt =>
    document.addEventListener(evt, handlePlainTextInsert)
  );

  // Hilfsfunktion: Plain‑Text an Cursor‑Position einfügen
  function insertTextAtCursor(text) {
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    const range = sel.getRangeAt(0);
    range.deleteContents();
    const node = document.createTextNode(text);
    range.insertNode(node);
    // Cursor direkt hinter den neuen Node setzen
    range.setStartAfter(node);
    range.collapse(true);
    sel.removeAllRanges();
    sel.addRange(range);
  }
});
</script>

  
  
  
  
    <script> // Für die Klasse oneline
document.addEventListener('DOMContentLoaded', () => {
    const sanitize = str => str.replace(/[\r\n]+/g, ' ').replace(/<br\s*\/?>/gi, ' ');

    document.querySelectorAll('.oneline[contenteditable]').forEach(el => {
        // Enter verhindern
        el.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') e.preventDefault();
        });

        // Nur reinen Text einfügen, keine Formatierungen, keine Zeilenumbrüche
        el.addEventListener('paste', (e) => {
            e.preventDefault();
            const text = (e.clipboardData || window.clipboardData).getData('text/plain');
            document.execCommand('insertText', false, sanitize(text));
        });

        // Drag & Drop unterbinden
        el.addEventListener('drop', (e) => e.preventDefault());

        // Eingaben "bereinigen" – gegen <br> oder \n durch externe Methoden
        el.addEventListener('input', () => {
            el.innerText = sanitize(el.innerText);
        });

        // Formatierungen durch Browseraktionen oder IME verhindern
        el.addEventListener('beforeinput', (e) => {
            const blockedTypes = [
                'insertParagraph', 'insertLineBreak', 'formatBold', 'formatItalic', 'formatUnderline'
            ];
            if (blockedTypes.includes(e.inputType)) e.preventDefault();
        });
    });
});
 </script>
  
  
			</body>
		</html>
